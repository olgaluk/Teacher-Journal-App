<app-notification-self-closing header="Info" description="Subject created!"></app-notification-self-closing>

<div class="page-header">
  <h2 class="text-center text-uppercase text-info">Add new subject:</h2>
</div>
<div class="panel">
  <form class="form-horizontal" [formGroup]="subjectForm">

    <app-input-form-group formGroupName="subjectName" [inputForm]="subjectForm.get('subjectName')"
      messageType="subjectName" itemName="Subject" dataType="only letters" maxLength="15">
    </app-input-form-group>
    <app-input-form-group formGroupName="cabinet" [inputForm]="subjectForm.get('cabinet')" messageType="cabinet"
      itemName="Cabinet" dataType="only numbers" maxLength="2">
    </app-input-form-group>

    <div class="form-group">
      <label class="col-sm-2 col-md-offset-2 col-lg-offset-2 control-label">Select teachers:</label>
      <select multiple class="col-sm-9 col-md-7 col-lg-5" formControlName="selectedTeachers">
        <option *ngFor="let teacher of teacherList$ | async" [ngValue]="teacher.id">
          {{teacher.name}} {{teacher.lastName}}
        </option>
      </select>
    </div>    

    <app-input-form-group formGroupName="description" [inputForm]="subjectForm.get('description')"
      itemName="Description" dataType="only numbers, letters and spaces" maxLength="40"></app-input-form-group>

    <div class="form-group">
      <div class="col-sm-offset-5 col-sm-3 col-md-offset-9 col-md-1 col-lg-offset-9 col-lg-1">
        <button type="button" [disabled]="subjectForm?.invalid" (click)="addNewSubject()"
          class="btn btn-info">ADD</button>
      </div>
    </div>
  </form>
</div>

<a class="col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8 col-lg-offset-3 col-lg-6" routerLink="{{ path }}">
  <app-button-add value="Back to subject list"></app-button-add>
</a>

<app-modal>
  <h3 class="text-info">'Add' button will work only after filling in the fields: Subject, Cabinet, Teachers!!</h3>
</app-modal>